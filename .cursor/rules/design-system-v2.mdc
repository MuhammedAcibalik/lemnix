---
description: Design System v2.0 kullanım kuralları - token'lar, glassmorphism, spacing
globs: frontend/src/**/*.tsx,frontend/src/**/*.ts
---

# Design System v2.0 Kullanım Kuralları

## Genel Prensipler

### ❌ ASLA YAPMA
- Hardcoded renkler (`'#2563eb'`, `'rgba(0,0,0,0.1)'`)
- Hardcoded spacing değerleri (`'16px'`, `'24px'`)
- Hardcoded shadow'lar (`'0 4px 6px rgba(0,0,0,0.1)'`)
- Hardcoded border-radius (`'12px'`, `'8px'`)
- Inline style objelerinde magic number'lar

### ✅ HER ZAMAN YAP
- `useDesignSystem()` hook'u kullan
- Design System token'larından değer al
- Type-safe erişim sağla
- Tutarlı spacing/color kullan

---

## useDesignSystem Hook

### Temel Kullanım

```typescript
import { useDesignSystem } from '@/shared/hooks';

export const MyComponent: React.FC = () => {
  const ds = useDesignSystem();
  
  return (
    <Box sx={{
      padding: ds.spacing['4'],              // 16px
      backgroundColor: ds.colors.primary.main,
      borderRadius: `${ds.borderRadius.md}px`,
      boxShadow: ds.shadows.soft.md,
      transition: ds.transitions.base,
    }}>
      {/* ... */}
    </Box>
  );
};
```

---

## Renk Sistemi (Colors)

### Primary - Deep Industrial Blue
```typescript
// ✅ DOĞRU
<Box sx={{ color: ds.colors.primary.main }}>    // #1e40af
<Box sx={{ color: ds.colors.primary[600] }}>    // #2563eb
<Box sx={{ color: ds.colors.primary.light }}>   // #3b82f6

// ❌ YANLIŞ
<Box sx={{ color: '#1e40af' }}>
<Box sx={{ color: 'blue' }}>
```

### Semantic Colors
```typescript
// Success/Warning/Error
<Alert sx={{ 
  backgroundColor: alpha(ds.colors.success.main, 0.1),
  color: ds.colors.success[700],
}}>

// Text colors
<Typography sx={{ color: ds.colors.text.primary }}>     // #1e293b
<Typography sx={{ color: ds.colors.text.secondary }}>   // #64748b
<Typography sx={{ color: ds.colors.text.disabled }}>    // #94a3b8
```

### Neutral Scale (Gray)
```typescript
// 50 (lightest) → 900 (darkest)
<Box sx={{ 
  backgroundColor: ds.colors.neutral[50],    // #f8fafc
  borderColor: ds.colors.neutral[200],       // #e2e8f0
}}>
```

---

## Spacing Sistemi

### Fibonacci-Inspired Scale
```typescript
// Available values: 0, 1, 2, 3, 4, 6, 8, 12, 16, 24, 32
const spacing = {
  '0': 0,      // None
  '1': 4,      // Tight
  '2': 8,      // Compact
  '3': 12,     // Cozy
  '4': 16,     // Base
  '6': 24,     // Comfortable
  '8': 32,     // Spacious
  '12': 48,    // Generous
  '16': 64,    // Luxurious
  '24': 96,    // Hero
  '32': 128,   // Mega
};

// ✅ DOĞRU
<Stack spacing={ds.spacing['3']}>            // 12px
<Box sx={{ 
  padding: ds.spacing['4'],                  // 16px
  gap: ds.spacing['2'],                      // 8px
}}>

// ❌ YANLIŞ
<Stack spacing={3}>
<Box sx={{ padding: '16px', gap: '8px' }}>
```

### Responsive Spacing
```typescript
// Farklı breakpoint'lerde farklı spacing
<Box sx={{
  padding: {
    xs: ds.spacing['2'],    // Mobile: 8px
    md: ds.spacing['4'],    // Tablet: 16px
    lg: ds.spacing['6'],    // Desktop: 24px
  }
}}>
```

---

## CardV2 Component

### Variant'lar

```typescript
import { CardV2 } from '@/shared';

// Elevated - Soft shadow
<CardV2 variant="elevated">
  {children}
</CardV2>

// Glass - Glassmorphism effect (MODERN!)
<CardV2 variant="glass">
  {children}
</CardV2>

// Outlined - Border only
<CardV2 variant="outlined">
  {children}
</CardV2>

// Gradient - Gradient background
<CardV2 variant="gradient">
  {children}
</CardV2>

// Interactive - Hover + click effects
<CardV2 variant="interactive" onClick={handleClick}>
  {children}
</CardV2>
```

### Props Pattern
```typescript
// ✅ DOĞRU - CardV2 ile title/subtitle
<CardV2 
  variant="glass"
  title="İş Emri Detayları"
  subtitle="İş emri bilgilerini görüntüle"
  hoverable
>
  <Typography>Content here</Typography>
</CardV2>

// ❌ YANLIŞ - Manual card + hardcoded styles
<Card sx={{ 
  background: 'rgba(255,255,255,0.8)', 
  backdropFilter: 'blur(10px)',
  borderRadius: '12px'
}}>
  <CardContent>...</CardContent>
</Card>
```

---

## Glassmorphism Pattern

### Glass Effect Kullanımı
```typescript
// ✅ DOĞRU - CardV2 ile
<CardV2 variant="glass" sx={{ p: ds.spacing['4'] }}>
  {content}
</CardV2>

// ✅ DOĞRU - Dialog header'da manuel glass
<Box sx={{
  background: ds.glass.background,         // rgba(255, 255, 255, 0.8)
  backdropFilter: ds.glass.backdropFilter, // blur(12px) saturate(180%)
  borderBottom: ds.glass.border,           // 1px solid rgba(255, 255, 255, 0.2)
  boxShadow: ds.glass.boxShadow,          // inset shadow
}}>

// ❌ YANLIŞ - Hardcoded glass
<Box sx={{
  background: 'rgba(255,255,255,0.8)',
  backdropFilter: 'blur(10px)',
}}>
```

---

## Gradient Pattern

### Gradient Title (Dialog/Header)
```typescript
// ✅ DOĞRU
<Typography sx={{
  fontSize: '1.5rem',
  fontWeight: 700,
  background: ds.gradients.primary,        // linear-gradient
  backgroundClip: 'text',
  WebkitBackgroundClip: 'text',
  WebkitTextFillColor: 'transparent',
  lineHeight: 1,
}}>
  Yeni İş Emri
</Typography>

// Available gradients:
ds.gradients.primary         // Blue → Purple
ds.gradients.success         // Green gradient
ds.gradients.warning         // Orange gradient
ds.gradients.primarySoft     // Subtle primary
ds.gradients.card            // Card background
```

### Gradient Button
```typescript
<Button sx={{
  background: ds.gradients.primary,
  color: 'white',
  '&:hover': {
    background: ds.gradients.primary,
    opacity: 0.9,
  }
}}>
  Kaydet
</Button>
```

---

## Shadow Sistemi

```typescript
// Soft shadows (modern, subtle)
ds.shadows.soft.sm    // 0 1px 2px
ds.shadows.soft.md    // 0 4px 6px
ds.shadows.soft.lg    // 0 10px 15px
ds.shadows.soft.xl    // 0 20px 25px

// Industrial shadows (stronger, enterprise)
ds.shadows.industrial.sm
ds.shadows.industrial.md
ds.shadows.industrial.lg

// ✅ DOĞRU
<CardV2 sx={{ boxShadow: ds.shadows.soft.md }}>

// ❌ YANLIŞ
<Card sx={{ boxShadow: '0 4px 6px rgba(0,0,0,0.1)' }}>
```

---

## Border Radius

```typescript
ds.borderRadius.sm      // 6px  - Buttons, small cards
ds.borderRadius.md      // 8px  - Inputs, chips
ds.borderRadius.lg      // 12px - Cards
ds.borderRadius.xl      // 16px - Modals
ds.borderRadius.card    // 12px - Default card radius
ds.borderRadius.button  // 6px  - Default button radius
ds.borderRadius.input   // 8px  - Default input radius

// ✅ DOĞRU
<TextField sx={{ 
  '& .MuiOutlinedInput-root': {
    borderRadius: `${ds.borderRadius.input}px`
  }
}}>

// ❌ YANLIŞ
<TextField sx={{ borderRadius: '8px' }}>
```

---

## Transitions

```typescript
ds.transitions.fast     // 150ms - Hover effects
ds.transitions.base     // 200ms - Default
ds.transitions.slow     // 300ms - Complex animations
ds.transitions.all      // all 200ms ease-in-out

// ✅ DOĞRU
<Box sx={{
  transition: ds.transitions.base,
  '&:hover': {
    transform: 'translateY(-2px)',
  }
}}>

// ❌ YANLIŞ
<Box sx={{ transition: 'all 0.2s' }}>
```

---

## Typography

### Font Weights
```typescript
ds.typography.fontWeight.light      // 300
ds.typography.fontWeight.regular    // 400
ds.typography.fontWeight.medium     // 500
ds.typography.fontWeight.semibold   // 600
ds.typography.fontWeight.bold       // 700

// ✅ DOĞRU
<Typography sx={{ fontWeight: ds.typography.fontWeight.semibold }}>

// ❌ YANLIŞ
<Typography sx={{ fontWeight: 600 }}>
```

### Letter Spacing
```typescript
ds.typography.letterSpacing.tight    // -0.02em
ds.typography.letterSpacing.normal   // 0em
ds.typography.letterSpacing.wide     // 0.025em

// ✅ DOĞRU - Gradient title with tight spacing
<Typography sx={{
  letterSpacing: ds.typography.letterSpacing.tight,
  fontWeight: ds.typography.fontWeight.bold,
}}>
```

---

## Component Size System

```typescript
// Button sizes
ds.componentSizes.button.small    // { height: 32, padding: '6px 12px' }
ds.componentSizes.button.medium   // { height: 40, padding: '8px 16px' }
ds.componentSizes.button.large    // { height: 48, padding: '12px 24px' }

// Input sizes
ds.componentSizes.input.small
ds.componentSizes.input.medium
ds.componentSizes.input.large

// Icon sizes
ds.componentSizes.icon.xs    // 12px
ds.componentSizes.icon.sm    // 16px
ds.componentSizes.icon.md    // 20px
ds.componentSizes.icon.lg    // 24px
```

---

## Alpha (Opacity) Helper

```typescript
import { alpha } from '@mui/material';

// ✅ DOĞRU - Background with opacity
<Chip sx={{
  background: alpha(ds.colors.primary.main, 0.1),
  color: ds.colors.primary.main,
}}>

// Hover state
'&:hover': {
  backgroundColor: alpha(ds.colors.primary.main, 0.08),
}
```

---

## Tam Örnek: Modern Dialog Header

```typescript
import { useDesignSystem } from '@/shared/hooks';
import { Dialog, DialogContent, Box, Typography, IconButton } from '@mui/material';
import { Close as CloseIcon, Assignment as AssignmentIcon } from '@mui/icons-material';

export const ModernDialog: React.FC = ({ open, onClose }) => {
  const ds = useDesignSystem();
  
  return (
    <Dialog 
      open={open} 
      onClose={onClose}
      maxWidth="md"
      fullWidth
      PaperProps={{
        sx: {
          borderRadius: `${ds.borderRadius.xl}px`,
          overflow: 'hidden',
        }
      }}
    >
      {/* Glass Header */}
      <Box sx={{
        background: ds.glass.background,
        backdropFilter: ds.glass.backdropFilter,
        borderBottom: ds.glass.border,
        p: ds.spacing['4'],
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'space-between',
      }}>
        {/* Gradient Title */}
        <Box sx={{ display: 'flex', alignItems: 'center', gap: ds.spacing['2'] }}>
          <AssignmentIcon sx={{ 
            color: ds.colors.primary.main, 
            fontSize: ds.componentSizes.icon.lg 
          }} />
          <Typography sx={{
            fontSize: '1.5rem',
            fontWeight: ds.typography.fontWeight.bold,
            background: ds.gradients.primary,
            backgroundClip: 'text',
            WebkitBackgroundClip: 'text',
            WebkitTextFillColor: 'transparent',
            letterSpacing: ds.typography.letterSpacing.tight,
          }}>
            Yeni İş Emri
          </Typography>
        </Box>
        
        {/* Close Button */}
        <IconButton 
          onClick={onClose}
          size="small"
          sx={{
            color: ds.colors.text.secondary,
            transition: ds.transitions.fast,
            '&:hover': {
              color: ds.colors.text.primary,
              backgroundColor: alpha(ds.colors.neutral[900], 0.04),
            }
          }}
        >
          <CloseIcon fontSize="small" />
        </IconButton>
      </Box>
      
      <DialogContent sx={{ p: ds.spacing['4'] }}>
        {/* Content */}
      </DialogContent>
    </Dialog>
  );
};
```

---

## Anti-Pattern'ler (Yapma!)

### ❌ Hardcoded Magic Numbers
```typescript
// YANLIŞ
<Box sx={{ 
  padding: '16px',
  margin: '24px',
  borderRadius: '12px',
  fontSize: '14px',
}}>
```

### ❌ Inline Color Codes
```typescript
// YANLIŞ
<Typography sx={{ color: '#2563eb' }}>
<Box sx={{ backgroundColor: 'rgba(0,0,0,0.1)' }}>
```

### ❌ CSS String Shadows
```typescript
// YANLIŞ
<Card sx={{ boxShadow: '0 4px 6px rgba(0,0,0,0.1)' }}>
```

### ❌ Hardcoded Transitions
```typescript
// YANLIŞ
<Button sx={{ transition: 'all 0.2s ease-in-out' }}>
```

---

## Checklist (Her Component İçin)

- [ ] `useDesignSystem()` hook kullanıldı mı?
- [ ] Tüm spacing değerleri `ds.spacing['X']` ile mi?
- [ ] Tüm renkler `ds.colors.X.Y` ile mi?
- [ ] Shadow'lar `ds.shadows.X.Y` ile mi?
- [ ] Border-radius `ds.borderRadius.X` ile mi?
- [ ] Transition'lar `ds.transitions.X` ile mi?
- [ ] Gradient'ler `ds.gradients.X` ile mi?
- [ ] Magic number yok mu?

---

## Referanslar

- [Design System v2.0](mdc:frontend/src/theme/designSystem.v2.ts)
- [useDesignSystem Hook](mdc:frontend/src/shared/hooks/useDesignSystem.ts)
- [CardV2 Component](mdc:frontend/src/shared/ui/Card/Card.v2.tsx)
- [CuttingListBuilder Dialog Örnekleri](mdc:frontend/src/components/CuttingListBuilder/dialogs/)
